window.wp=window.wp||{},window.wp.customize=window.wp.customize||{},function(a,b,c,d,e){"use strict";var f={};d.customize.resizer=f;var g=0,h=!1;f.cache=function(){f.$={},f.$.window=c(a),f.$.body=c(b.body),f.$.customizer=c(b.getElementById("customize-controls")),f.$.overlay=c(".wp-full-overlay.expanded"),f.$.collapser=c(".collapse-sidebar-label")},f.init=function(){f.cache(),f.$.customizer.append('<div class="customizer-resizer"></div>'),f.$.resizer=c(".customizer-resizer"),f.checkWidth(),f.events()},f.events=function(){f.initIframeMouseEvents(),f.$.resizer.on("mousedown",f.resizerEngage),f.$.collapser.on("click",f.snapToDefault),c(a).resize(_.debounce(f.checkWidth,50))},f.checkWidth=function(){var a=f.$.window.width();return 640>a?(h=!1,f.$.body.removeClass("resizable"),f.snapToDefault()):void(h||(f.$.body.addClass("resizable"),h=!0))},f.resizerEngage=function(a){var d=f.$.window.width(),e=d-f.$.customizer.width();a.preventDefault(),100>e?(f.sizeCustomizer(d-320),f.fullWidth("no")):(f.$.customizer.addClass("no-animation"),c(b).on("mousemove",f.resizerMovement),c(b).on("mouseup",f.resizerDisengage))},f.resizerMovement=function(a){var b=g<a.pageX;g=a.pageX;var c=f.$.window.width()-g;return 300>c&&c>100?(f.snapToDefault(),f.resizerDisengage(),f.fullWidth("yes")):(f.fullWidth("no"),g>=320||g>=300&&b?f.sizeCustomizer(g):!b&&g>270&&320>g?f.snapToDefault():void(270>g&&(f.snapToDefault(),f.resizerDisengage(),f.$.collapser.trigger("click"))))},f.resizerDisengage=function(){c(b).off("mousemove",f.resizerMovement),c(b).off("mouseup",f.resizerDisengage),f.$.customizer.removeClass("no-animation")},f.fullWidth=function(a){var b="yes"===a?"addClass":"removeClass";f.$.body[b]("fullwidth-customizer")},f.snapToDefault=function(){f.sizeCustomizer()},f.sizeCustomizer=function(a){a=a||"",f.$.overlay.css({"margin-left":a}),f.$.resizer.css({"margin-left":a?a-5:a}),f.$.customizer.width(a)},f.initIframeMouseEvents=function(){setTimeout(function(){var a=f.$.overlay.find("iframe");a.length?(f.bubbleMouseEvent(a[0],"mousemove"),f.bubbleMouseEvent(a[0],"mouseup")):f.initIframeMouseEvents()},500)},f.bubbleMouseEvent=function(c,d){var e="on"+d,f=c.contentWindow[e];c.contentWindow[e]=function(e){f&&f(e);var g=b.createEvent("MouseEvents"),h=c.getBoundingClientRect();g.initMouseEvent(d,!0,!1,a,e.detail,e.screenX,e.screenY,e.clientX+h.left,e.clientY+h.top,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),c.dispatchEvent(g)}},d.customize.bind("ready",f.init)}(window,document,jQuery,window.wp);